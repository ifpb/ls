(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{5453:function(e,n,o){"use strict";o.d(n,{Z:function(){return p}});var t=o(2809);function a(e,n,o,t,a,d,s){try{var l=e[d](s),r=l.value}catch(i){return void o(i)}l.done?n(r):Promise.resolve(r).then(t,a)}function d(e){return function(){var n=this,o=arguments;return new Promise((function(t,d){var s=e.apply(n,o);function l(e){a(s,t,d,l,r,"next",e)}function r(e){a(s,t,d,l,r,"throw",e)}l(void 0)}))}}var s=o(809),l=o.n(s),r=o(7294),i=o(9235),m=o(3618),c=o(5893);function u(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function f(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?u(Object(o),!0).forEach((function(n){(0,t.Z)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function p(e){var n=e.src,o=e.code,t=e.lang,a=(0,r.useState)(""),s=a[0],u=a[1];return(0,r.useEffect)((function(){function e(){return(e=d(l().mark((function e(){var o,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return o=e.sent,e.next=5,o.text();case 5:t=e.sent,u(t.trim());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o?u(o.trim()):function(){e.apply(this,arguments)}()}),[]),(0,c.jsx)(i.default,f(f({},i.defaultProps),{},{code:s,language:t,theme:m.default,children:function(e){var n=e.className,o=e.style,t=e.tokens,a=e.getLineProps,d=e.getTokenProps;return(0,c.jsx)("pre",{children:(0,c.jsx)("code",{className:n,style:o,children:t.map((function(e,n){return(0,c.jsx)("div",f(f({},a({line:e,key:n})),{},{children:e.map((function(e,n){return(0,c.jsx)("span",f({},d({token:e,key:n})))}))}))}))})})}}))}},3868:function(e,n,o){"use strict";o.r(n);var t=o(159),a=o(219),d=(o(7294),o(3905)),s=o(4905),l=o.n(s),r=o(8876),i=o(2802),m=(o(5675),o(5453)),c=["components"],u=function(e){return(0,r.withSSG)(l()({filename:"index.mdx",route:"/classnotes/10",meta:{},pageMap:[{name:"classnote",route:"/classnote"},{name:"classnotes",children:[{name:"01",children:[{name:"index",route:"/classnotes/01"},{name:"meta.json",meta:{index:"Aula 01"}}],route:"/classnotes/01"},{name:"02",children:[{name:"index",route:"/classnotes/02"},{name:"meta.json",meta:{index:"Aula 02"}}],route:"/classnotes/02"},{name:"03",children:[{name:"index",route:"/classnotes/03"},{name:"meta.json",meta:{index:"Aula 03"}}],route:"/classnotes/03"},{name:"04",children:[{name:"index",route:"/classnotes/04"},{name:"meta.json",meta:{index:"Aula 04"}}],route:"/classnotes/04"},{name:"05",children:[{name:"index",route:"/classnotes/05"},{name:"meta.json",meta:{index:"Aula 05"}}],route:"/classnotes/05"},{name:"06",children:[{name:"index",route:"/classnotes/06"},{name:"meta.json",meta:{index:"Aula 06"}}],route:"/classnotes/06"},{name:"07",children:[{name:"index",route:"/classnotes/07"},{name:"meta.json",meta:{index:"Aula 07"}}],route:"/classnotes/07"},{name:"08",children:[{name:"index",route:"/classnotes/08"},{name:"meta.json",meta:{index:"Aula 08"}}],route:"/classnotes/08"},{name:"09",children:[{name:"index",route:"/classnotes/09"},{name:"meta.json",meta:{index:"Aula 09"}}],route:"/classnotes/09"},{name:"10",children:[{name:"index",route:"/classnotes/10"},{name:"meta.json",meta:{index:"Aula 10"}}],route:"/classnotes/10"},{name:"11",children:[{name:"index",route:"/classnotes/11"},{name:"meta.json",meta:{index:"Aula 11"}}],route:"/classnotes/11"},{name:"12",children:[{name:"index",route:"/classnotes/12"},{name:"meta.json",meta:{index:"Aula 12"}}],route:"/classnotes/12"},{name:"13",children:[{name:"index",route:"/classnotes/13"},{name:"meta.json",meta:{index:"Aula 13"}}],route:"/classnotes/13"},{name:"14",children:[{name:"index",route:"/classnotes/14"},{name:"meta.json",meta:{index:"Aula 14"}}],route:"/classnotes/14"},{name:"15",children:[{name:"index",route:"/classnotes/15"},{name:"meta.json",meta:{index:"Aula 15"}}],route:"/classnotes/15"},{name:"16",children:[{name:"index",route:"/classnotes/16"},{name:"meta.json",meta:{index:"Aula 16"}}],route:"/classnotes/16"},{name:"meta.json",meta:{10:{title:"Aula 10",type:"nav",hidden:!0},11:{title:"Aula 11",type:"nav",hidden:!0},12:{title:"Aula 12",type:"nav",hidden:!0},13:{title:"Aula 13",type:"nav",hidden:!0},14:{title:"Aula 14",type:"nav",hidden:!0},15:{title:"Aula 15",type:"nav",hidden:!0},16:{title:"Aula 16",type:"nav",hidden:!0},"01":{title:"Aula 01",type:"nav",hidden:!0},"02":{title:"Aula 02",type:"nav",hidden:!0},"03":{title:"Aula 03",type:"nav",hidden:!0},"04":{title:"Aula 04",type:"nav",hidden:!0},"05":{title:"Aula 05",type:"nav",hidden:!0},"06":{title:"Aula 06",type:"nav",hidden:!0},"07":{title:"Aula 07",type:"nav",hidden:!0},"08":{title:"Aula 08",type:"nav",hidden:!0},"09":{title:"Aula 09",type:"nav",hidden:!0}}}],route:"/classnotes"},{name:"content",route:"/content"},{name:"exams",children:[{name:"blog",route:"/exams/blog"},{name:"meta.json",meta:{blog:{title:"Blog",type:"nav",hidden:!0},projeto:"Projeto","prova-ecma":{title:"Prova ECMA",type:"nav",hidden:!0},"prova-w3c":{title:"Prova W3C",type:"nav",hidden:!0},"prova-final":{title:"Prova Final",type:"nav",hidden:!0}}},{name:"projeto",route:"/exams/projeto"},{name:"prova-ecma",route:"/exams/prova-ecma"},{name:"prova-final",route:"/exams/prova-final"},{name:"prova-w3c",route:"/exams/prova-w3c"}],route:"/exams"},{name:"index",route:"/"},{name:"meta.json",meta:{index:"Disciplina",classnote:"Aulas",classnotes:{title:"Aulas",type:"nav",hidden:!0},content:"Conte\xfado",outline:{title:"Roteiro",type:"nav",hidden:!0},tools:"Ferramentas",exams:{title:"Exames",type:"nav",hidden:!0}}},{name:"outline",route:"/outline"},{name:"tools",route:"/tools"}]},i.Z))(e)};function f(e){var n=e.components,o=(0,a.Z)(e,c);return(0,d.mdx)(u,(0,t.Z)({components:n},o),(0,d.mdx)("h1",null,"Criando Elementos Din\xe2micos"),(0,d.mdx)("h2",null,"Foods App"),(0,d.mdx)("p",null,(0,d.mdx)("a",{href:"https://foods-crud.lucachaves.repl.co/",parentName:"p"},(0,d.mdx)("img",{src:"/ls/imgs/classnotes/10/foods-crud.gif",alt:"",parentName:"a"}))),(0,d.mdx)("p",null,(0,d.mdx)("a",{href:"https://replit.com/@lucachaves/foods-crud?v=1",parentName:"p"},"Edit on Repl.it")),(0,d.mdx)("h2",null,"Estrutura do C\xf3digo"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{className:"language-txt",parentName:"pre"},"foods-crud\n\u251c\u2500\u2500 css\n\u2502   \u251c\u2500\u2500 bootstrap.min.css\n\u2502   \u2514\u2500\u2500 style.css\n\u251c\u2500\u2500 imgs\n\u2502   \u251c\u2500\u2500 batatafrita.jpg\n\u2502   \u251c\u2500\u2500 hamburguer.jpg\n\u2502   \u251c\u2500\u2500 milkshake.jpg\n\u2502   \u251c\u2500\u2500 sanduiche.jpg\n\u2502   \u2514\u2500\u2500 suco.jpg\n\u251c\u2500\u2500 index.html\n\u2514\u2500\u2500 js\n    \u251c\u2500\u2500 lib\n    \u2502   \u251c\u2500\u2500 bootstrap.min.js\n    \u2502   \u251c\u2500\u2500 jquery.min.js\n    \u2502   \u2514\u2500\u2500 popper.min.js\n    \u251c\u2500\u2500 main.js\n    \u2514\u2500\u2500 model\n        \u251c\u2500\u2500 dataset.js\n        \u2514\u2500\u2500 foods.js\n")),(0,d.mdx)("p",null,"foods-crud/index.html:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{className:"language-markup",parentName:"pre"},'<body>\n  <div class="container">\n    <h1 class="mt-5 text-center">Menu</h1>\n    <div class="text-right">\n      <button\n        type="button"\n        class="btn btn-secondary rounded-circle mr-4 font-weight-bold"\n        id="newBtnFood"\n        data-toggle="modal"\n        data-target="#formFoodModal"\n        onclick="loadFormCreateFood()">\n        +\n      </button>\n    </div>\n    <section class="card-deck my-3"></section>\n    <form id="formFood">\n      ...\n    </form>\n    <form id="formDeleteFood">\n      ...\n    </form>\n  <div>\n  <script src="js/lib/jquery.min.js"><\/script>\n  <script src="js/lib/popper.min.js"><\/script>\n  <script src="js/lib/bootstrap.min.js"><\/script>\n  <script src="js/main.js" type="module"><\/script>\n</body>\n')),(0,d.mdx)("h2",null,"Camada de Dados"),(0,d.mdx)("p",null,"foods-crud/js/model/dataset.js:"),(0,d.mdx)(m.Z,{src:"/ls/codes/foods-crud/js/model/dataset.js",lang:"js",mdxType:"Code"}),(0,d.mdx)("p",null,"foods-crud/js/model/food.js:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{className:"language-js",parentName:"pre"},"...\n\nexport default { load, create, readAll, read, update, destroy };\n")),(0,d.mdx)("h2",null,"Excluir Dados"),(0,d.mdx)("p",null,(0,d.mdx)("img",{src:"/ls/imgs/classnotes/10/foods-delete-form.png",alt:"",parentName:"p"})),(0,d.mdx)("p",null,"foods-crud/index.html:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{className:"language-markup",parentName:"pre"},'<form id="formDeleteFood">\n  <div class="modal fade" id="deleteFoodModal" tabindex="-1" aria-labelledby="deleteFoodLabel" aria-hidden="true">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title" id="deleteFoodLabel">Excluir comida</h5>\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n        </div>\n        <div class="modal-body">\n          Deseja realmente excluir <span id="modal-name-food"></span>?\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>\n          <button type="button" class="btn btn-primary" id="deleteFoodBtn">Excluir</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')),(0,d.mdx)("p",null,"foods-crud/js/main.js:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{className:"language-js",parentName:"pre"},"import dataset from './model/dataset.js';\nimport foods from './model/foods.js';\n\nfunction loadFoods() {\n  if (localStorage.getItem('foods-app:loaded') !== 'ok') {\n    foods.load(dataset);\n    localStorage.setItem('foods-app:loaded', 'ok');\n  }\n\n  for (const food of foods.readAll()) {\n    createFoodView(food);\n  }\n}\n\nfunction createFoodView(food) {\n  const foodsView = `\n        <div class=\"card-food col-sm-6 col-lg-4 col-xl-3 mb-3\" id=\"food-${food.id}\">\n          ...\n          <span class=\"food-actions float-right\">\n            ${createFoodActions(food)}\n          </span>\n          ...\n        </div>\n      `;\n\n  const foodsDeck = document.querySelector('.card-deck');\n\n  foodsDeck.insertAdjacentHTML('beforeend', foodsView);\n}\n\nfunction createFoodActions(food) {\n  return `\n        <i\n          class=\"far fa-trash-alt\"\n          onclick=\"loadFormDeleteFood(${food.id}, '${food.name}')\"\n          data-toggle=\"modal\"\n          data-target=\"#deleteFoodModal\">\n        </i>\n        ...\n      `;\n}\n\nfunction loadFormDeleteFood(foodId, foodName) {\n  document.querySelector('#modal-name-food').innerHTML = foodName;\n\n  document.querySelector('#deleteFoodBtn').onclick = (e) => {\n    e.preventDefault();\n\n    foods.destroy(foodId);\n\n    document.querySelector(`#food-${foodId}`).remove();\n\n    $('#deleteFoodModal').modal('toggle');\n  };\n}\n\nwindow.loadFormDeleteFood = loadFormDeleteFood;\n")),(0,d.mdx)("h2",null,"Atualizar Dados"),(0,d.mdx)("p",null,(0,d.mdx)("img",{src:"/ls/imgs/classnotes/10/foods-update-form.png",alt:"",parentName:"p"})),(0,d.mdx)("p",null,"foods-crud/index.html:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{className:"language-markup",parentName:"pre"},'<form id="formFood">\n  <div class="modal fade" id="formFoodModal" tabindex="-1" aria-labelledby="formFoodLabel" aria-hidden="true">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title" id="formFoodLabel"></h5>\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <label for="food-name">Nome</label>\n            <input type="text" class="form-control" id="food-name" name="name">\n          </div>\n          <div class="form-group">\n            <label for="food-image">Image</label>\n            <input type="text" class="form-control" id="food-image" name="image">\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>\n          <button type="submit" class="btn btn-primary">Confirmar</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')),(0,d.mdx)("p",null,"foods-crud/js/main.js:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{className:"language-js",parentName:"pre"},"import dataset from './model/dataset.js';\nimport foods from './model/foods.js';\n\nfunction loadFoods() {\n    if (localStorage.getItem('foods-app:loaded') !== 'ok') {\n      foods.load(dataset);\n      localStorage.setItem('foods-app:loaded', 'ok');\n    }\n\n  for (const food of foods.readAll()) {\n    createFoodView(food);\n  }\n}\n\nfunction createFoodView(food) {\n  const foodsView = `\n        <div class=\"card-food col-sm-6 col-lg-4 col-xl-3 mb-3\" id=\"food-${food.id}\">\n          ...\n          <span class=\"food-actions float-right\">\n            ${createFoodActions(food)}\n          </span>\n          ...\n        </div>\n      `;\n\n  const foodsDeck = document.querySelector('.card-deck');\n\n  foodsDeck.insertAdjacentHTML('beforeend', foodsView);\n}\n\nfunction createFoodActions(food) {\n  return `\n        ...\n        <i\n          class=\"fas fa-pencil-alt\"\n          onclick=\"loadFormUpdateFood(${food.id}, '${food.name}', '${food.image}')\"\n          data-toggle=\"modal\"\n          data-target=\"#formFoodModal\">\n        </i>\n      `;\n}\n\nfunction loadFormUpdateFood(id, name, image) {\n  const formFood = document.querySelector('#formFood');\n\n  loadFormValues('Atualizar Comida', name, image);\n\n  formFood.onsubmit = (e) => {\n    e.preventDefault();\n\n    const food = Object.fromEntries(new FormData(formFood));\n\n    foods.update(id, food);\n\n    updateFoodView({ id, ...food });\n\n    $('#formFoodModal').modal('toggle');\n  };\n}\n\nfunction loadFormValues(title, foodName, foodImage) {\n  const formLabel = document.querySelector('#formFoodLabel');\n  const foodNameInput = document.querySelector('#food-name');\n  const foodImageInput = document.querySelector('#food-image');\n\n  formLabel.innerHTML = title;\n  foodNameInput.value = foodName;\n  foodImageInput.value = foodImage;\n}\n\nfunction updateFoodView(food) {\n  const foodName = document.querySelector(`#food-${food.id} .food-name`);\n  const foodImage = document.querySelector(`#food-${food.id} .food-image`);\n  const foodActions = document.querySelector(`#food-${food.id} .food-actions`);\n\n  foodName.innerText = food.name;\n  foodImage.src = food.image;\n  foodActions.innerHTML = createFoodActions(food);\n}\n\nwindow.loadFormUpdateFood = loadFormUpdateFood;\n")))}f.isMDXComponent=!0,n.default=f},5195:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/classnotes/10",function(){return o(3868)}])}},function(e){e.O(0,[286,164,774,888,179],(function(){return n=5195,e(e.s=n);var n}));var n=e.O();_N_E=n}]);